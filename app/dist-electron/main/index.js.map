{
  "version": 3,
  "sources": ["../../electron/main.ts"],
  "sourcesContent": ["import { app, BrowserWindow } from 'electron'\r\n// import { createRequire } from 'node:module'\r\nimport { fileURLToPath } from 'node:url'\r\nimport path from 'node:path'\r\n\r\n// const require = createRequire(import.meta.url)\r\nconst __dirname = path.dirname(fileURLToPath(import.meta.url))\r\n\r\n// The built directory structure\r\n//\r\n// \u251C\u2500\u252C\u2500\u252C dist\r\n// \u2502 \u2502 \u2514\u2500\u2500 index.html\r\n// \u2502 \u2502\r\n// \u2502 \u251C\u2500\u252C dist-electron\r\n// \u2502 \u2502 \u251C\u2500\u2500 main.js\r\n// \u2502 \u2502 \u2514\u2500\u2500 preload.mjs\r\n// \u2502\r\nprocess.env.APP_ROOT = path.join(__dirname, '..')\r\n\r\n// \uD83D\uDEA7 Use ['ENV_NAME'] avoid vite:define plugin - Vite@2.x\r\nexport const VITE_DEV_SERVER_URL = process.env['VITE_DEV_SERVER_URL']\r\nexport const MAIN_DIST = path.join(process.env.APP_ROOT, 'dist-electron')\r\nexport const RENDERER_DIST = path.join(process.env.APP_ROOT, 'dist')\r\n\r\nprocess.env.VITE_PUBLIC = VITE_DEV_SERVER_URL ? path.join(process.env.APP_ROOT, 'public') : RENDERER_DIST\r\n\r\nlet win: BrowserWindow | null\r\n\r\nfunction createWindow() {\r\n  win = new BrowserWindow({\r\n    icon: path.join(process.env.VITE_PUBLIC, 'electron-vite.svg'),\r\n    webPreferences: {\r\n      preload: path.join(__dirname, 'preload.mjs'),\r\n    },\r\n  })\r\n\r\n  // Test active push message to Renderer-process.\r\n  win.webContents.on('did-finish-load', () => {\r\n    win?.webContents.send('main-process-message', (new Date).toLocaleString())\r\n  })\r\n\r\n  if (VITE_DEV_SERVER_URL) {\r\n    win.loadURL(VITE_DEV_SERVER_URL)\r\n  } else {\r\n    // win.loadFile('dist/index.html')\r\n    win.loadFile(path.join(RENDERER_DIST, 'index.html'))\r\n  }\r\n}\r\n\r\n// Quit when all windows are closed, except on macOS. There, it's common\r\n// for applications and their menu bar to stay active until the user quits\r\n// explicitly with Cmd + Q.\r\napp.on('window-all-closed', () => {\r\n  if (process.platform !== 'darwin') {\r\n    app.quit()\r\n    win = null\r\n  }\r\n})\r\n\r\napp.on('activate', () => {\r\n  // On OS X it's common to re-create a window in the app when the\r\n  // dock icon is clicked and there are no other windows open.\r\n  if (BrowserWindow.getAllWindows().length === 0) {\r\n    createWindow()\r\n  }\r\n})\r\n\r\napp.whenReady().then(createWindow)\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAmC;AAEnC,sBAA8B;AAC9B,uBAAiB;AAHjB;AAMA,IAAM,YAAY,iBAAAA,QAAK,YAAQ,+BAAc,YAAY,GAAG,CAAC;AAW7D,QAAQ,IAAI,WAAW,iBAAAA,QAAK,KAAK,WAAW,IAAI;AAGzC,IAAM,sBAAsB,QAAQ,IAAI,qBAAqB;AAC7D,IAAM,YAAY,iBAAAA,QAAK,KAAK,QAAQ,IAAI,UAAU,eAAe;AACjE,IAAM,gBAAgB,iBAAAA,QAAK,KAAK,QAAQ,IAAI,UAAU,MAAM;AAEnE,QAAQ,IAAI,cAAc,sBAAsB,iBAAAA,QAAK,KAAK,QAAQ,IAAI,UAAU,QAAQ,IAAI;AAE5F,IAAI;AAEJ,SAAS,eAAe;AACtB,QAAM,IAAI,8BAAc;AAAA,IACtB,MAAM,iBAAAA,QAAK,KAAK,QAAQ,IAAI,aAAa,mBAAmB;AAAA,IAC5D,gBAAgB;AAAA,MACd,SAAS,iBAAAA,QAAK,KAAK,WAAW,aAAa;AAAA,IAC7C;AAAA,EACF,CAAC;AAGD,MAAI,YAAY,GAAG,mBAAmB,MAAM;AAC1C,SAAK,YAAY,KAAK,yBAAyB,oBAAI,QAAM,eAAe,CAAC;AAAA,EAC3E,CAAC;AAED,MAAI,qBAAqB;AACvB,QAAI,QAAQ,mBAAmB;AAAA,EACjC,OAAO;AAEL,QAAI,SAAS,iBAAAA,QAAK,KAAK,eAAe,YAAY,CAAC;AAAA,EACrD;AACF;AAKA,oBAAI,GAAG,qBAAqB,MAAM;AAChC,MAAI,QAAQ,aAAa,UAAU;AACjC,wBAAI,KAAK;AACT,UAAM;AAAA,EACR;AACF,CAAC;AAED,oBAAI,GAAG,YAAY,MAAM;AAGvB,MAAI,8BAAc,cAAc,EAAE,WAAW,GAAG;AAC9C,iBAAa;AAAA,EACf;AACF,CAAC;AAED,oBAAI,UAAU,EAAE,KAAK,YAAY;",
  "names": ["path"]
}
